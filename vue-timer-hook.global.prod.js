/*!
  * vue-timer-hook v0.0.13
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
var VueRouter=function(e,t){"use strict";class n{static getTimeFromSeconds(e){const n=t.computed((()=>Math.ceil(e.value))),o=t.computed((()=>Math.floor(n.value/86400))),r=t.computed((()=>Math.floor(n.value%86400/3600))),s=t.computed((()=>Math.floor(n.value%3600/60)));return{seconds:t.computed((()=>Math.floor(n.value%60))),minutes:s,hours:r,days:o}}static getSecondsFromExpiry(e,n){const o=e-(new Date).getTime();if(o>0){const e=o/1e3;return t.ref(n?Math.round(e):e)}return t.ref(0)}static getSecondsFromPrevTime(e,n){const o=(new Date).getTime()-e;if(o>0){const e=o/1e3;return t.ref(n?Math.round(e):e)}return t.ref(0)}static getSecondsFromTimeNow(){const e=new Date,n=e.getTime(),o=60*e.getTimezoneOffset();return t.ref(n/1e3-o)}static getFormattedTimeFromSeconds(e,o){const{seconds:r,minutes:s,hours:i}=n.getTimeFromSeconds(e),u=t.computed((()=>"12-hour"===o?i.value>=12?"pm":"am":""));return{seconds:r,minutes:s,hours:t.computed((()=>"12-hour"===o?i.value%12:i.value)),ampm:u}}}function o(e,n){let o;const r=()=>{o&&(clearInterval(o),o=void 0)},s=t=>{if(r(),!t&&!n)return;return o=setInterval(e,t||n)};return"number"==typeof n&&s(),t.onUnmounted(r),{remove:r,start:s}}const r=1e3;function s(e){if(!class{static expiryTimestamp(e){const t=new Date(e).getTime()>0;return t||console.warn("vue-timer-hook: { useTimer } Invalid expiryTimestamp settings",e),t}static onExpire(e){const t=e&&"function"==typeof e;return e&&!t&&console.warn("vue-timer-hook: { useTimer } Invalid onExpire settings function",e),t}}.expiryTimestamp(e))return null;const t=n.getSecondsFromExpiry(e),o=Math.floor(1e3*(t.value-Math.floor(t.value)));return o>0?o:r}const i=()=>(new Date).getTime();return e.useStopwatch=(e=60,r=!0)=>{let s;const u=t.ref(n.getSecondsFromExpiry(e,!0)||0),a=t.ref(i()),c=t.ref(u.value+n.getSecondsFromPrevTime(a.value||0,!0).value),m=t.ref(r);function l(){const e=i();a.value=e,m.value=!0,c.value=u.value+n.getSecondsFromPrevTime(e,!0).value,s=o((()=>{c.value=u.value+n.getSecondsFromPrevTime(a.value,!0).value}),!!m.value&&1e3)}return{...n.getTimeFromSeconds(c),start:l,pause:function(){u.value=c.value,m.value=!1,s&&s.remove()},reset:function(e=0,t=!0){m.value=t,u.value=n.getSecondsFromExpiry(e,!0).value||0,l()},isRunning:m}},e.useTime=(e="24-hour")=>{const t=n.getSecondsFromTimeNow();return o((()=>{t.value=n.getSecondsFromTimeNow().value}),1e3),{...n.getFormattedTimeFromSeconds(t,e)}},e.useTimer=(e=60,i=!0)=>{let u;const a=t.reactive({expiryTimestamp:e,seconds:n.getSecondsFromExpiry(e),isRunning:i,isExpired:!1,didStart:i,delay:s(e)});function c(t=e,i=!0){a.delay=s(t),a.didStart=i,a.isExpired=!1,a.isRunning=i,a.expiryTimestamp=t,a.seconds=n.getSecondsFromExpiry(t).value,u=o((()=>{a.delay!==r&&(a.delay=r);const e=n.getSecondsFromExpiry(a.expiryTimestamp);a.seconds=e.value,e.value<=0&&(a.isExpired=!0,a.isRunning=!1,a.delay=null,u&&u.remove())}),a.isRunning?a.delay:null)}function m(){const e=new Date;e.setMilliseconds(e.getMilliseconds()+1e3*a.seconds),c(e.getTime())}return c(e,i),{...n.getTimeFromSeconds(t.toRef(a,"seconds")),start:function(){a.didStart?(a.seconds=n.getSecondsFromExpiry(a.expiryTimestamp).value,a.isRunning=!0):m()},pause:function(){a.isRunning=!1,u&&u.remove()},resume:m,restart:c,isRunning:t.toRef(a,"isRunning"),isExpired:t.toRef(a,"isExpired")}},Object.defineProperty(e,"__esModule",{value:!0}),e}({},Vue);
